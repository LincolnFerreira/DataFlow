<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora financeira</title>

    <style>

    </style>
</head>

<body>
    <h1>Calculadora financeira</h1>

    Viagens diaria: <input placeholder="Numeros de viagens diarias" id="viagens_diarias"><br>
    <!-- ida e volta valor deve ser especificado pela empresa em caso de km mudar na volta ou ida -->
    Valor da passagem: <input placeholder="Valor da passagem" id="valor_passagem"><br>
    Quantidade de Passageiros: <input placeholder="Qtd passageiros" id="qtd_passageiros"><br>

    Distancia: <input placeholder="Distancia por KM" id="distancia_km"><br>
    Preço do combustivel: <input placeholder="Valor combustivel" id="valor_combustivel"><br>
    Consumo de combustivel: <input placeholder="Consumo de combustivel" id="combustivel">

    <button onclick="calcular()">Calculo financeiro</button><br>
    <div id="resultado" style="float: left;"></div>
    <div id="comparação"></div>

    <div id="grafico" style="background-color: red; color: white; height: 20px; width: 0%;"></div>
</body>

</html>

<script>
    function calcular() {
        // valores:
        var distancia = Number(distancia_km.value);
        var viagensDia = Number(viagens_diarias.value);
        var valorPassagem = Number(valor_passagem.value);
        var qtdPassageiros = Number(qtd_passageiros.value);
        var preco_combustivel = Number(valor_combustivel.value);
        var consumo_combustivel = Number(combustivel.value);

        // calculos:
        var valor_porViagem = (valorPassagem * qtdPassageiros); //ida
        var valor_porDia = valor_porViagem * viagensDia; //lucro
        var renda_antiga = valor_porDia;
        var valor_porMes = valor_porDia * 30; //lucro

        var litro_rota = consumo_combustivel * distancia;
        var litro_diario = litro_rota * viagensDia;
        var gasto_diario = litro_diario * preco_combustivel;


        // resultados:
        resultado.innerHTML = `
        <br>distancia: ${distancia} <br>
        viagem por dia: ${viagensDia} <br>
        valor da passagem: ${valorPassagem} <br>
        quantidade de passageiros: ${qtdPassageiros}<br><br>
        
        Calculos com base na passagem da catraca:<br>
        valor por viagem: ${valor_porViagem}<br>
        valor por dia: ${valor_porDia}<br>
        valor por mes: ${valor_porMes}<br><br>
        
        Calculos com base em gastos do combustivel:<br>
        Gasto por rota: ${litro_rota}<br>
        Litro diario: ${litro_diario}<br>
        Gasto por dia: ${gasto_diario}`

        // comparação//

        // calculos:
        //valores das porcentagems
        var porc_Reduzida = (0.20);//variavel que guarda porcentagem de redução de viagens (dado fictício)
        var porc_A_Passageiros = (0.10)//variavel que guarda porcentagem de passageiros a mais (dado fictício)
        var num_ViagensDia_Reduzido = (viagensDia - (viagensDia * porc_Reduzida));//variavel que guarda calculo comparando empresa com e sem TAFT
        var num_Passageiros_a_Mais = Math.round(qtdPassageiros + (qtdPassageiros * porc_A_Passageiros));//variavel que guarda calculo comparando empresa com e sem TAFT

        //calculos:
        valor_porViagem = (valorPassagem * (qtdPassageiros + (qtdPassageiros * porc_A_Passageiros))); //ida
        valor_porDia = valor_porViagem * viagensDia;
        var renda_taft = valor_porDia;
        valor_porMes = valor_porDia * 30;

        var variacao_percentual = ((renda_taft - renda_antiga) / renda_antiga) * 100;

        litro_rota = consumo_combustivel * distancia;
        litro_diario = litro_rota * (viagensDia - (viagensDia * porc_Reduzida));
        gasto_diario = litro_diario * preco_combustivel;

        // resultados:
        comparação.innerHTML = `
        <i>Empresa que implementou TAFT</i>
        <br>distancia: ${distancia} <br>
        viagem por dia: ${num_ViagensDia_Reduzido} <br>
        valor da passagem: ${valorPassagem} <br>
        quantidade de passageiros: ${num_Passageiros_a_Mais}<br><br>
        
        Calculos com base na passagem da catraca:<br>
        valor por viagem: ${valor_porViagem}<br>
        valor por dia: ${valor_porDia}<br>
        valor por mes: ${valor_porMes}<br><br>
        
        Calculos com base em gastos do combustivel:<br>
        Gasto por rota: ${litro_rota}<br>
        Litro diario: ${litro_diario}<br>
        Gasto por dia: ${gasto_diario}`;

        // grafico de aumento;
        grafico.innerHTML = `${variacao_percentual}%`;
        grafico.style.width = `${variacao_percentual}%`;
    }
</script>